--- a/js/src/wasm/WasmSignalHandlers.cpp	2021-05-31 10:20:25.000000000 -0400
+++ b/js/src/wasm/WasmSignalHandlers.cpp	2021-10-25 15:35:14.000000000 -0400
@@ -351,6 +350,12 @@
   arm_neon_state_t float_;
 };
 #    define CONTEXT macos_arm_context
+#  elif defined(__arm64__)
+struct macos_arm_context {
+  arm_thread_state_t thread;
+  arm_neon_state_t float_;
+};
+#    define CONTEXT macos_arm_context
 #  else
 #    error Unsupported architecture
 #  endif
@@ -366,7 +371,7 @@
 #  define PC_sig(p) EIP_sig(p)
 #  define FP_sig(p) EBP_sig(p)
 #  define SP_sig(p) ESP_sig(p)
-#elif defined(__arm__)
+#elif defined(__arm__) || defined(__arm64__)
 #  define FP_sig(p) R11_sig(p)
 #  define SP_sig(p) R13_sig(p)
 #  define LR_sig(p) R14_sig(p)
@@ -811,7 +816,7 @@
   unsigned int float_state_count = x86_FLOAT_STATE_COUNT;
   int thread_state = x86_THREAD_STATE;
   int float_state = x86_FLOAT_STATE;
-#  elif defined(__arm__)
+#  elif defined(__arm__) || defined(__arm64__)
   unsigned int thread_state_count = ARM_THREAD_STATE_COUNT;
   unsigned int float_state_count = ARM_NEON_STATE_COUNT;
   int thread_state = ARM_THREAD_STATE;
