--- a/src/FXThread.cpp	2018-01-16 19:37:35.000000000 -0500
+++ b/src/FXThread.cpp	2021-04-16 17:18:33.000000000 -0400
@@ -21,6 +21,7 @@
 *********************************************************************************
 * $Id: FXThread.cpp,v 1.53.2.12 2008/06/18 20:03:46 fox Exp $                   *
 ********************************************************************************/
+#include <sys/semaphore.h>
 #ifdef WIN32
 #if _WIN32_WINNT < 0x0400
 #define _WIN32_WINNT 0x0400
@@ -146,7 +147,7 @@
 /*******************************************************************************/
 
 
-#ifdef __APPLE__
+#ifdef __Win32__
 
 
 // Initialize semaphore
